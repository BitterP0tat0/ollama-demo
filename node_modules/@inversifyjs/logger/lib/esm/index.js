import{format as t,createLogger as s,transports as o}from"winston";import{URL as r}from"node:url";var e;!function(t){t.ERROR="error",t.WARN="warn",t.INFO="info",t.HTTP="http",t.VERBOSE="verbose",t.DEBUG="debug",t.SILLY="silly"}(e||(e={}));class n{_loggerOptions;#t;constructor(t,s){this._loggerOptions=this.#s(s),this.#t=t}info(t,s){this.log(e.INFO,t,s)}http(t,s){this.log(e.HTTP,t,s)}silly(t,s){this.log(e.SILLY,t,s)}log(t,s,o){this._loggerOptions.logTypes.includes(t)&&this.printLog(t,s,{...o,context:o?.context??this.#t})}error(t,s){this.log(e.ERROR,t,s)}warn(t,s){this.log(e.WARN,t,s)}debug(t,s){this.log(e.DEBUG,t,s)}verbose(t,s){this.log(e.VERBOSE,t,s)}#s(t){return{json:t?.json??!1,logTypes:t?.logTypes??[e.DEBUG,e.ERROR,e.HTTP,e.INFO,e.SILLY,e.VERBOSE,e.WARN],timestamp:t?.timestamp??!0}}}class i extends n{#o;constructor(t,s,o){super(s,o),this.#o=t,this.#r()}printLog(t,s,o){this.#o.log(t,s,o)}#e(){const s=[];return this._loggerOptions.timestamp&&s.push(t.timestamp({format:"YYYY-MM-DD hh:mm:ss.SSS A"})),this._loggerOptions.json?s.push(t.json(),t.prettyPrint()):s.push(t.colorize({all:!0}),t.printf(t=>this.#n(t))),s}#r(){this.#o.format=t.combine(this.#o.format,...this.#e())}#n(t){return`[${t.context??"InversifyJS"}] - ${String(process.pid)}${this._loggerOptions.timestamp?` ${t.timestamp}`:""} ${t.level}: ${t.message}`}}class g extends i{constructor(t,r){super(s({transports:[new o.Console]}),t,r)}}class p extends i{constructor(t,r,e){super(s({transports:[new o.File({filename:t})]}),r,e)}}class l extends i{constructor(t,e,n){const i="string"==typeof t?new r(t):t;super(s({transports:[new o.Http({host:i.hostname,path:i.pathname,port:parseInt(i.port)})]}),e,n)}}class a extends i{constructor(t,r,e,n){const i={stream:t};void 0!==r&&(i.eol=r),super(s({transports:[new o.Stream(i)]}),e,n)}}export{g as ConsoleLogger,p as FileLogger,l as HttpLogger,e as LogLevel,a as StreamLogger};
//# sourceMappingURL=index.js.map
