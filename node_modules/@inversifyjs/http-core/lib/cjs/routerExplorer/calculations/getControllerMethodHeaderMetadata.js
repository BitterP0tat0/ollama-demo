"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getControllerMethodHeaderMetadata = getControllerMethodHeaderMetadata;
const prototype_utils_1 = require("@inversifyjs/prototype-utils");
const reflect_metadata_utils_1 = require("@inversifyjs/reflect-metadata-utils");
const controllerMethodHeaderMetadataReflectKey_1 = require("../../reflectMetadata/data/controllerMethodHeaderMetadataReflectKey");
function getControllerMethodHeaderMetadata(controller, methodKey) {
    const headerMetadata = {};
    let currentType = controller;
    while (currentType !== undefined) {
        const typeHeaderMetadata = (0, reflect_metadata_utils_1.getOwnReflectMetadata)(currentType, controllerMethodHeaderMetadataReflectKey_1.controllerMethodHeaderMetadataReflectKey, methodKey);
        if (typeHeaderMetadata !== undefined) {
            for (const key in typeHeaderMetadata) {
                if (!Object.hasOwn(headerMetadata, key)) {
                    headerMetadata[key] = typeHeaderMetadata[key];
                }
            }
        }
        currentType = (0, prototype_utils_1.getBaseType)(currentType);
    }
    return headerMetadata;
}
//# sourceMappingURL=getControllerMethodHeaderMetadata.js.map