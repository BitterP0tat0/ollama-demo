"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getControllerMethodMetadataList = getControllerMethodMetadataList;
const prototype_utils_1 = require("@inversifyjs/prototype-utils");
const reflect_metadata_utils_1 = require("@inversifyjs/reflect-metadata-utils");
const controllerMethodMetadataReflectKey_1 = require("../../reflectMetadata/data/controllerMethodMetadataReflectKey");
function getControllerMethodMetadataList(controllerConstructor) {
    const metadataListMap = new Map();
    let currentType = controllerConstructor;
    while (currentType !== undefined) {
        const metadataList = (0, reflect_metadata_utils_1.getOwnReflectMetadata)(currentType, controllerMethodMetadataReflectKey_1.controllerMethodMetadataReflectKey);
        if (metadataList !== undefined) {
            for (const metadata of metadataList) {
                const collisionKey = `${metadata.requestMethodType}:${metadata.path}`;
                if (!metadataListMap.has(collisionKey)) {
                    metadataListMap.set(collisionKey, metadata);
                }
            }
        }
        currentType = (0, prototype_utils_1.getBaseType)(currentType);
    }
    return [...metadataListMap.values()];
}
//# sourceMappingURL=getControllerMethodMetadataList.js.map