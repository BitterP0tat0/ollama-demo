import{getCatchErrorMetadata as t,getClassMethodErrorFilterMetadata as e,getClassErrorFilterMetadata as r,getClassGuardList as s,getClassMethodGuardList as a,getClassInterceptorList as o,getClassMethodInterceptorList as n,getClassMiddlewareList as i,buildMiddlewareOptionsFromApplyMiddlewareOptions as d,getClassMethodMiddlewareList as c,isPipe as l}from"@inversifyjs/framework-core";export{ApplyMiddleware,CatchError,MiddlewarePhase,UseErrorFilter,UseGuard,UseInterceptor}from"@inversifyjs/framework-core";import{Readable as u}from"node:stream";import{ConsoleLogger as p}from"@inversifyjs/logger";import{getBaseType as E,findInPrototypeChain as h}from"@inversifyjs/prototype-utils";import{getOwnReflectMetadata as T,updateOwnReflectMetadata as O,buildEmptyArrayMetadata as N,buildArrayMetadataWithIndex as f,setReflectMetadata as _,buildArrayMetadataWithElement as y}from"@inversifyjs/reflect-metadata-utils";import{injectable as R}from"inversify";const A=Symbol.for("@inversifyjs/http-core/InversifyHttpAdapterError");class m extends Error{kind;extraData;[A];constructor(t,e,r,s){super(e,r),this.kind=t,this.extraData=s,this[A]=!0}static is(t){return"object"==typeof t&&null!==t&&!0===t[A]}static isErrorOfKind(t,e){return m.is(t)&&t.kind===e}}var I;!function(t){t[t.invalidOperationAfterBuild=0]="invalidOperationAfterBuild",t[t.noControllerFound=1]="noControllerFound",t[t.requestParamIncorrectUse=2]="requestParamIncorrectUse"}(I||(I={}));const g=Symbol.for("@inversifyjs/http-core/HttpResponse");function L(t){return"object"==typeof t&&null!==t&&!0===t[g]}class M extends Error{statusCode;body;headers;[g];constructor(t,e,r,s,a){super(r,s),this.statusCode=t,this.body=e,this.headers=a,this[g]=!0}}var C;!function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.EARLYHINTS=103]="EARLYHINTS",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.MULTI_STATUS=207]="MULTI_STATUS",t[t.ALREADY_REPORTED=208]="ALREADY_REPORTED",t[t.CONTENT_DIFFERENT=210]="CONTENT_DIFFERENT",t[t.AMBIGUOUS=300]="AMBIGUOUS",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED=421]="MISDIRECTED",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.LOCKED=423]="LOCKED",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.UNRECOVERABLE_ERROR=456]="UNRECOVERABLE_ERROR",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",t[t.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",t[t.LOOP_DETECTED=508]="LOOP_DETECTED"}(C||(C={}));class D extends M{constructor(t,e="Forbidden",r,s){super(C.FORBIDDEN,t,e,r,s)}}class P extends M{constructor(t,e="Internal Server Error",r,s){super(C.INTERNAL_SERVER_ERROR,t,e,r,s)}}function w(e,r,s){const a=t(s);for(const t of a){if(void 0===r.get(t))r.set(t,s);else{const r=null===t?"null (catch-all)":t.name;e.warn(`Error filter '${s.name}' was not registered for error type '${r}' because an error filter is already registered for this error type.`)}}}const H="@inversifyjs/http-core/controller/controllerMethodHeaderMetadataReflectKey";const b="@inversifyjs/http-core/controller/controllerMethodParameterMetadataReflectKey";const v="@inversifyjs/http-core/controller/controllerMethodStatusCodeMetadataReflectKey";const S="@inversifyjs/http-core/controller/controllerMethodUseNativeHandlerMetadataReflectKey";function U(t,l,u){const p=(O=l.target,N=u.methodKey,h(O,t=>T(t,b,N))??[]);var O,N;const f=function(t,e){return h(t,t=>T(t,v,e))}(l.target,u.methodKey),_=[...s(l.target),...a(l.target,u.methodKey)],y=[...o(l.target),...n(l.target,u.methodKey)],R=i(l.target),A=d(R),m=c(l.target,u.methodKey),I=function(t,s,a){const o=new Map;for(const r of e(s,a))w(t,o,r);for(const e of r(s))w(t,o,e);return o}(t,l.target,u.methodKey),g=d(m),L=function(t,e){const r={};let s=t;for(;void 0!==s;){const t=T(s,H,e);if(void 0!==t)for(const e in t)Object.hasOwn(r,e)||(r[e]=t[e]);s=E(s)}return r}(l.target,u.methodKey),M=function(t,e){return h(t,t=>T(t,S,e))??!1}(l.target,u.methodKey);return{errorTypeToErrorFilterMap:I,guardList:_,headerMetadataList:L,interceptorList:y,methodKey:u.methodKey,parameterMetadataList:p,path:u.path,postHandlerMiddlewareList:[...A.postHandlerMiddlewareList,...g.postHandlerMiddlewareList],preHandlerMiddlewareList:[...A.preHandlerMiddlewareList,...g.preHandlerMiddlewareList],requestMethodType:u.requestMethodType,statusCode:f,useNativeHandler:M}}function F(t,e,r){return r.map(r=>U(t,e,r))}const B="@inversifyjs/http-core/controller/controllerMethodMetadataReflectKey";function G(t){const e=new Map;let r=t;for(;void 0!==r;){const t=T(r,B);if(void 0!==t)for(const r of t){const t=`${r.requestMethodType}:${r.path}`;e.has(t)||e.set(t,r)}r=E(r)}return[...e.values()]}function x(t,e){return{controllerMethodMetadataList:F(t,e,G(e.target)),path:e.path,serviceIdentifier:e.serviceIdentifier,target:e.target}}const Y="@inversifyjs/http-core/controller/controllerMetadataReflectKey";function Q(){const t=T(Reflect,Y);if(void 0!==t)return t.sort((t,e)=>e.priority-t.priority)}async function K(t,e,r){for(const s of function*(t){if(t instanceof Error){let e=t.constructor;for(;e!==Error;)yield e,e=E(e);yield e}yield null}(e))for(const e of r){const r=e.get(s);if(void 0!==r)return"function"==typeof r?t.getAsync(r):r}}const q=Symbol.for("@inversifyjs/http-core/application");var j;!function(t){t.Body="body",t.Cookies="cookies",t.Custom="custom",t.CustomNative="customNative",t.Headers="headers",t.Next="next",t.Params="params",t.Request="request",t.Response="response",t.Query="query"}(j||(j={}));class V{httpAdapterOptions;_app;_logger;#t;#e;#r;#s;#a;#o;#n;#i;#d;#c;#l;constructor(t,e,r,s,a){this.#t=new Set(s),this.#e=t,this.#s=this.#u(),this.#r=this.#p(),this.httpAdapterOptions=this.#E(e,r),this.#o=[],this.#n=[],this.#i=[],this.#a=new Map,this._logger=this.#h(this.httpAdapterOptions),this.#l=!1,this.#d=[],this.#c=[],this.#T(),this._app=this._buildApp(a)}applyGlobalMiddleware(...t){if(this.#l)throw new m(I.invalidOperationAfterBuild,"Cannot apply global middleware after the server has been built");const e=d(t);this.#d.push(...e.postHandlerMiddlewareList),this.#c.push(...e.preHandlerMiddlewareList)}applyGlobalGuards(...t){if(this.#l)throw new m(I.invalidOperationAfterBuild,"Cannot apply global guards after the server has been built");this.#o.push(...t)}async build(){if(this.#l)throw new m(I.invalidOperationAfterBuild,"The server has already been built");return this.#O(),await this.#N(),this.#l=!0,this._app}useGlobalFilters(...t){for(const e of t)this.#f(e)}useGlobalInterceptors(...t){if(this.#l)throw new m(I.invalidOperationAfterBuild,"Cannot apply global interceptors after the server has been built");for(const e of t)this.#n.push(e)}useGlobalPipe(...t){if(this.#l)throw new m(I.invalidOperationAfterBuild,"Cannot apply global pipes after the server has been built");this.#i.push(...t)}async#_(t,e,r,s){t[e]=this.#t.has(s)?await r:r}#y(t,e){if(void 0===t)return e;if(void 0===e)return{...t};for(const r in t)Object.hasOwn(e,r)||(e[r]=t[r]);return e}#O(){if(this.#e.isBound(q))throw new m(I.invalidOperationAfterBuild,"An HTTP server is already registered in the container");this.#e.bind(q).toConstantValue(this._app)}#u(){return{getBody:this._getBody.bind(this),getCookies:this._getCookies.bind(this),getHeaders:this._getHeaders.bind(this),getParams:this._getParams.bind(this),getQuery:this._getQuery.bind(this),setHeader:this._setHeader.bind(this),setStatus:this._setStatus.bind(this)}}#p(){return{getBody:this._getBody.bind(this),getCookies:this._getCookies.bind(this),getHeaders:this._getHeaders.bind(this),getParams:this._getParams.bind(this),getQuery:this._getQuery.bind(this),send:this.#R.bind(this),sendBodySeparator:this._sendBodySeparator.bind(this),setHeader:this._setHeader.bind(this),setStatus:this._setStatus.bind(this)}}#h(t){return"boolean"==typeof t.logger?new p:t.logger}#A(t){return t.controllerMethodMetadataList.map(e=>({guardList:[...this.#m(this.#o,e),...this.#m(e.guardList,e)],handler:this.#I(t.serviceIdentifier,t.target,e),path:e.path,postHandlerMiddlewareList:[...this.#g(e,this.#d),...this.#g(e,e.postHandlerMiddlewareList)],preHandlerMiddlewareList:[...this.#g(e,this.#c),...this.#g(e,e.preHandlerMiddlewareList)],requestMethodType:e.requestMethodType}))}#I(t,e,r){const s=this.#L(e,r.methodKey,r.parameterMetadataList,t);let a;a=r.useNativeHandler?(t,e,s)=>(void 0!==r.statusCode&&this._setStatus(t,e,r.statusCode),this.#M(t,e,r.headerMetadataList),s):(t,e,s)=>this.#R(t,e,s,r.statusCode,r.headerMetadataList);const o=this.#C(r);return function(t,e,r,s,a){return 0===t.length?async(t,e,o)=>{try{const s=await r(t,e,o);return await a(t,e,s)}catch(r){return s(t,e,r)}}:async(o,n,i)=>{const d=[],c={push:t=>{d.push(t)}};let l;const u=s=>s<t.length?async()=>{const r=await e.getAsync(t[s]);return await r.intercept(o,n,u(s+1)),c}:async()=>(l=await r(o,n,i),c);try{await u(0)();for(const t of d)l=await t(l);return await a(o,n,l)}catch(t){return s(o,n,t)}}}([...r.interceptorList,...this.#n],this.#e,s,o,a)}#L(t,e,r,s){if(0===r.length)return async()=>(await this.#e.getAsync(s))[e]();const a=function(t,e,r){return 0===r.length&&e.every(e=>void 0===e||0===e.pipeList.length&&!t.has(e.parameterType))}(this.#t,r,this.#i),o=r.map(t=>{if(void 0!==t)switch(t.parameterType){case j.Body:return(e,r)=>this._getBody(e,r,t.parameterName);case j.Cookies:return(e,r)=>this._getCookies(e,r,t.parameterName);case j.Custom:return(e,r)=>t.customParameterDecoratorHandler(e,r,this.#s);case j.CustomNative:return(e,r)=>t.customParameterDecoratorHandler(e,r,this.#r);case j.Headers:return e=>this._getHeaders(e,t.parameterName);case j.Next:return(t,e,r)=>r;case j.Params:return e=>this._getParams(e,t.parameterName);case j.Query:return e=>this._getQuery(e,t.parameterName);case j.Request:return t=>t;case j.Response:return(t,e)=>e}});return a?function(t,e,r,s){return async(a,o,n)=>{const i=await t.getAsync(e),d=new Array(s.length);for(let t=0;t<s.length;t++){const e=s[t];void 0!==e&&(d[t]=e(a,o,n))}return i[r](...d)}}(this.#e,s,e,o):async(a,n,i)=>{const d=new Array(r.length);await Promise.all(o.map(async(s,o)=>{const c=r[o];await this.#_(d,o,s(a,n,i),c.parameterType),await this.#D(d,[...this.#i,...c.pipeList],{methodName:e,parameterIndex:o,targetClass:t})}));return(await this.#e.getAsync(s))[e](...d)}}async#D(t,e,r){for(const s of e){const e=l(s)?s:await this.#e.getAsync(s);t[r.parameterIndex]=await e.execute(t[r.parameterIndex],r)}}async#P(t,e){return K(this.#e,t,e)}#C(t){const e=async(r,s,a)=>{const o=await this.#P(a,[t.errorTypeToErrorFilterMap,this.#a]);if(void 0===o){let e;return this.#w(a),e=new P(void 0,void 0,{cause:a}),this.#R(r,s,e,void 0,t.headerMetadataList)}try{return await o.catch(a,r,s)}catch(a){return e(r,s,a)}};return e}#E(t,e){return{...t,...e}}#R(t,e,r,s,a){let o,n,i=s;return L(r)?(i=r.statusCode,o=r.headers,n=r.body):n=r,void 0!==i&&this._setStatus(t,e,i),o=this.#y(a,o),void 0!==o&&this.#M(t,e,o),"string"==typeof n?this._replyText(t,e,n):void 0===n||"object"==typeof n?n instanceof u?this._replyStream(t,e,n):this._replyJson(t,e,n):this._replyText(t,e,JSON.stringify(n))}#M(t,e,r){for(const s in r)this._setHeader(t,e,s,r[s])}#g(t,e){const r=this.#C(t);return e.map(t=>async(e,s,a)=>{try{const r=await this.#e.getAsync(t);return await r.execute(e,s,a)}catch(t){return r(e,s,t)}})}#m(t,e){const r=this.#C(e);return t.map(t=>async(s,a,o)=>{try{const r=await this.#e.getAsync(t);return await r.activate(s)?void await o():await this.#R(s,a,new D,void 0,e.headerMetadataList)}catch(t){return r(s,a,t)}})}#H(t,e,r){if(!1!==this.httpAdapterOptions.logger){this._logger.info(`${t} {${e}}:`);for(const t of r)this._logger.info(`  - .${t.methodKey}() mapped {${t.path}, ${t.requestMethodType}}`)}}#w(t){t instanceof Error&&this._logger.error(t.stack??t.message),this._logger.error("An unexpected error occurred")}async#N(){const t=function(t,e){const r=Q();if(void 0===r)throw new m(I.noControllerFound,"No controllers found. Please ensure that your controllers are properly registered in your container and are annotated with the @Controller() decorator.");const s=[];for(const a of r)t.isBound(a.serviceIdentifier)&&s.push(x(e,a));return s}(this.#e,this._logger);for(const e of t)await this._buildRouter({path:e.path,routeParamsList:this.#A(e)}),this.#H(e.target.name,e.path,e.controllerMethodMetadataList)}#f(t){w(this._logger,this.#a,t)}#T(){var t;this.#a.set(M,(t=this.#R.bind(this),{catch:(e,r,s)=>t(r,s,e)}))}}function k(t){return"/"+t.split("/").filter(t=>t.length>0).join("/")}function $(t,e,r,s){O(e,b,N,f(t,s),r)}function W(t){return(e,r,s)=>{if(void 0===r)throw new m(I.requestParamIncorrectUse,"Expected native param decorator to be used on a method parameter. Instead, it was found on a constructor parameter");var a;$(t,e.constructor,r,s),a=e.constructor,_(a,S,!0,r)}}function X(t,...e){return W(function(t,e){return{customParameterDecoratorHandler:e,parameterName:void 0,parameterType:j.CustomNative,pipeList:t}}(e,t))}function Z(t){return(e,r,s)=>{if(void 0===r)throw new m(I.requestParamIncorrectUse,"Expected param decorator to be used on a method parameter. Instead, it was found on a constructor parameter");$(t,e.constructor,r,s)}}function J(t,...e){return Z(function(t,e){return{customParameterDecoratorHandler:e,parameterName:void 0,parameterType:j.Custom,pipeList:t}}(e,t))}function z(t,e){return(r,s)=>{const a={methodKey:s,path:k(e??"/"),requestMethodType:t};O(r.constructor,B,N,y(a))}}var tt;!function(t){t.All="all",t.Delete="delete",t.Get="get",t.Head="head",t.Options="options",t.Patch="patch",t.Post="post",t.Put="put"}(tt||(tt={}));const et=t=>z(tt.All,t);function rt(t,e,r){return{parameterName:r?.name,parameterType:t,pipeList:e}}function st(t,e){let r;const s=[];return void 0!==t&&("object"!=typeof t||l(t)?s.push(t):r=t),s.push(...e),[r,s]}function at(t,...e){const[r,s]=st(t,e);return Z(rt(j.Body,s,r))}function ot(t){return e=>{const r={path:"/",priority:0,serviceIdentifier:e,target:e};let s;void 0!==t&&("string"==typeof t?r.path=k(t):(r.path=k(t.path??"/"),void 0!==t.priority&&(r.priority=t.priority),void 0!==t.serviceIdentifier&&(r.serviceIdentifier=t.serviceIdentifier),s=t.scope)),R(s)(e),O(Reflect,Y,N,y(r))}}function nt(t,...e){const[r,s]=st(t,e);return Z(rt(j.Cookies,s,r))}const it=t=>z(tt.Delete,t),dt=t=>z(tt.Get,t),ct=t=>z(tt.Head,t);function lt(t,...e){const[r,s]=st(t,e);return Z(rt(j.Headers,s,r))}function ut(){return W(rt(j.Next,[],void 0))}const pt=t=>z(tt.Options,t);function Et(t,...e){const[r,s]=st(t,e);return Z(rt(j.Params,s,r))}const ht=t=>z(tt.Patch,t),Tt=t=>z(tt.Post,t),Ot=t=>z(tt.Put,t);function Nt(t,...e){const[r,s]=st(t,e);return Z(rt(j.Query,s,r))}function ft(...t){return Z(rt(j.Request,t,void 0))}function _t(...t){return W(rt(j.Response,t,void 0))}const yt=new Set(["proxy-authenticate","set-cookie","www-authenticate"]);function Rt(t,e){return r=>{const s=t.toLowerCase(),a=r[s];var o,n,i;return r[s]=void 0===a?e:(o=s,n=a,i=e,yt.has(o)?`${n}\n${i}`:`${n}, ${i}`),r}}function At(){return{}}function mt(t,e){return(r,s)=>{O(r.constructor,H,At,Rt(t,e),s)}}function It(t){return(e,r)=>{_(e.constructor,v,t,r)}}class gt{statusCode;body;headers;[g];constructor(t,e,r){this.statusCode=t,this.body=e,this.headers=r,this[g]=!0}}class Lt extends gt{constructor(t,e){super(C.ACCEPTED,t,e)}}class Mt extends gt{constructor(t,e){super(C.ALREADY_REPORTED,t,e)}}class Ct extends M{constructor(t,e="Bad Gateway",r,s){super(C.BAD_GATEWAY,t,e,r,s)}}class Dt extends M{constructor(t,e="Bad Request",r,s){super(C.BAD_REQUEST,t,e,r,s)}}class Pt extends M{constructor(t,e="Conflict",r,s){super(C.CONFLICT,t,e,r,s)}}class wt extends gt{constructor(t,e){super(C.CONTENT_DIFFERENT,t,e)}}class Ht extends gt{constructor(t,e){super(C.CREATED,t,e)}}class bt extends M{constructor(t,e="Gateway Timeout",r,s){super(C.GATEWAY_TIMEOUT,t,e,r,s)}}class vt extends M{constructor(t,e="Gone",r,s){super(C.GONE,t,e,r,s)}}class St extends M{constructor(t,e="HTTP Version Not Supported",r,s){super(C.HTTP_VERSION_NOT_SUPPORTED,t,e,r,s)}}class Ut extends M{constructor(t,e="Insufficient Storage",r,s){super(C.INSUFFICIENT_STORAGE,t,e,r,s)}}class Ft extends M{constructor(t,e="Loop Detected",r,s){super(C.LOOP_DETECTED,t,e,r,s)}}class Bt extends M{constructor(t,e="Method Not Allowed",r,s){super(C.METHOD_NOT_ALLOWED,t,e,r,s)}}class Gt extends gt{constructor(t,e){super(C.MULTI_STATUS,t,e)}}class xt extends gt{constructor(t){super(C.NO_CONTENT,void 0,t)}}class Yt extends gt{constructor(t,e){super(C.NON_AUTHORITATIVE_INFORMATION,t,e)}}class Qt extends M{constructor(t,e="Not Acceptable",r,s){super(C.NOT_ACCEPTABLE,t,e,r,s)}}class Kt extends M{constructor(t,e="Not Found",r,s){super(C.NOT_FOUND,t,e,r,s)}}class qt extends M{constructor(t,e="Not Implemented",r,s){super(C.NOT_IMPLEMENTED,t,e,r,s)}}class jt extends gt{constructor(t,e){super(C.OK,t,e)}}class Vt extends gt{constructor(t,e){super(C.PARTIAL_CONTENT,t,e)}}class kt extends M{constructor(t,e="Payment Required",r,s){super(C.PAYMENT_REQUIRED,t,e,r,s)}}class $t extends gt{constructor(t,e){super(C.RESET_CONTENT,t,e)}}class Wt extends M{constructor(t,e="Service Unavailable",r,s){super(C.SERVICE_UNAVAILABLE,t,e,r,s)}}class Xt extends M{constructor(t,e="Unauthorized",r,s){super(C.UNAUTHORIZED,t,e,r,s)}}class Zt extends M{constructor(t,e="Unprocessable Entity",r,s){super(C.UNPROCESSABLE_ENTITY,t,e,r,s)}}const Jt=()=>{};function zt(t){if(1===t.length){const[e]=t;return async(t,r)=>e(t,r,Jt)}return async(e,r)=>{let s=0,[a]=t;if(void 0===a)throw new Error("No middleware handlers to process");let o=!1;const n=()=>{o=!0};let i;do{if(i=await a(e,r,n),!o)break;o=!1,a=t[++s]}while(void 0!==a);return i}}export{Lt as AcceptedHttpResponse,et as All,Mt as AlreadyReportedHttpResponse,Ct as BadGatewayHttpResponse,Dt as BadRequestHttpResponse,at as Body,Pt as ConflictHttpResponse,wt as ContentDifferentHttpResponse,ot as Controller,nt as Cookies,Ht as CreatedHttpResponse,it as Delete,M as ErrorHttpResponse,D as ForbiddenHttpResponse,bt as GatewayTimeoutHttpResponse,dt as Get,vt as GoneHttpResponse,ct as Head,lt as Headers,C as HttpStatusCode,St as HttpVersionNotSupportedHttpResponse,Ut as InsufficientStorageHttpResponse,P as InternalServerErrorHttpResponse,V as InversifyHttpAdapter,Ft as LoopDetectedHttpResponse,Bt as MethodNotAllowedHttpResponse,Gt as MultiStatusHttpResponse,ut as Next,xt as NoContentHttpResponse,Yt as NonAuthoritativeInformationHttpResponse,Qt as NotAcceptableHttpResponse,Kt as NotFoundHttpResponse,qt as NotImplementedHttpResponse,jt as OkHttpResponse,pt as Options,Et as Params,Vt as PartialContentHttpResponse,ht as Patch,kt as PaymentRequiredHttpResponse,Tt as Post,Ot as Put,Nt as Query,ft as Request,j as RequestMethodParameterType,tt as RequestMethodType,$t as ResetContentHttpResponse,_t as Response,Wt as ServiceUnavailableHttpResponse,mt as SetHeader,It as StatusCode,gt as SuccessHttpResponse,Xt as UnauthorizedHttpResponse,Zt as UnprocessableEntityHttpResponse,k as buildNormalizedPath,X as createCustomNativeParameterDecorator,J as createCustomParameterDecorator,Q as getControllerMetadataList,G as getControllerMethodMetadataList,zt as handleMiddlewareList,q as httpApplicationServiceIdentifier,L as isHttpResponse,g as isHttpResponseSymbol};
//# sourceMappingURL=index.js.map
